@using System.Globalization
@using DietiEstate.WebClient.Data.Requests
@implements IDialogContentComponent<OfferRequestDto>


<FluentStack Orientation="Orientation.Vertical" VerticalGap="15">
    <FluentStack Orientation="Orientation.Vertical" VerticalGap="5">
        <FluentLabel>
            Stai facendo un'offerta per: <b>@Name</b>
        </FluentLabel>
        <FluentLabel Typo="Typography.Body">
            Indirizzo: <b>@Address</b>
        </FluentLabel>
        <FluentLabel Typo="Typography.Body">
            Valore dell'immobile: <b>@Price.ToString("C", new CultureInfo("it-IT"))</b>
        </FluentLabel>
    </FluentStack>
    <FluentNumberField TValue="decimal"
                       Label="Importo (€)"
                       @bind-Value="Content.Value"
                       Style="width: 100%;">
        <FluentIcon Value="@(new Icons.Regular.Size16.Money())" Slot="start"/>
    </FluentNumberField>
</FluentStack>


@code {
    [Parameter] public OfferRequestDto Content { get; set; }
    
    private string Name => Dialog.Instance.Parameters.Get<string>("Name");
    private string Address => Dialog.Instance.Parameters.Get<string>("Address");
    private decimal Price => Dialog.Instance.Parameters.Get<decimal>("Price");
    
    [CascadingParameter]
    public FluentDialog? Dialog {get; set; }
}